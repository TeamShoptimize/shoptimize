<!DOCTYPE html>  <html> <head>   <title>benchmark_greedyparameter.coffee</title>   <meta http-equiv="content-type" content="text/html; charset=UTF-8">   <link rel="stylesheet" media="all" href="docco.css" /> </head> <body>   <div id="container">     <div id="background"></div>            <div id="jump_to">         Jump To &hellip;         <div id="jump_wrapper">           <div id="jump_page">                                           <a class="source" href="anlegenPanel.html">                 anlegenPanel.coffee               </a>                                           <a class="source" href="benchmark.html">                 benchmark.coffee               </a>                                           <a class="source" href="benchmark_greedyparameter.html">                 benchmark_greedyparameter.coffee               </a>                                           <a class="source" href="configurationPanel.html">                 configurationPanel.coffee               </a>                                           <a class="source" href="controlPanel.html">                 controlPanel.coffee               </a>                                           <a class="source" href="demo.html">                 demo.coffee               </a>                                           <a class="source" href="demoPanel.html">                 demoPanel.coffee               </a>                                           <a class="source" href="flot.html">                 flot.coffee               </a>                                           <a class="source" href="floyd.html">                 floyd.coffee               </a>                                           <a class="source" href="gmaps.html">                 gmaps.coffee               </a>                                           <a class="source" href="greedyWorker.html">                 greedyWorker.coffee               </a>                                           <a class="source" href="importPanel.html">                 importPanel.coffee               </a>                                           <a class="source" href="init.html">                 init.coffee               </a>                                           <a class="source" href="jit.html">                 jit.coffee               </a>                                           <a class="source" href="parse.html">                 parse.coffee               </a>                                           <a class="source" href="routePanel.html">                 routePanel.coffee               </a>                                           <a class="source" href="startPanel.html">                 startPanel.coffee               </a>                                           <a class="source" href="util.html">                 util.coffee               </a>                                           <a class="source" href="viz.html">                 viz.coffee               </a>                        </div>         </div>       </div>          <table cellpadding="0" cellspacing="0">       <thead>         <tr>           <th class="docs">             <h1>               benchmark_greedyparameter.coffee             </h1>           </th>           <th class="code">           </th>         </tr>       </thead>       <tbody>                               <tr id="section-1">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-1">&#182;</a>               </div>               <h3>benchmark_greedyparameter.coffee</h3>

<p>Diese Datei wird dafür verwendet durch eine Art Bruteforce-Ansatz
die Parameter zu bestimmen, die für bestimmte Probleme die besten
Ergebnisse liefern.</p>

<p>Die Klasse <strong>Result</strong> kapselt die Ergebnisse eines Benchmarks.</p>

<p>Das <strong>Result</strong> enthält die Anzahl der Geschäfte und Artikel die in
dem Testfall verwendet wurden, die optimale Anzahl von Geschäften und
Artikeln. Desweiteren enthält es die Kosten der besten Lösung unseres
Algorithmus und die optimalen Kosten des Problems, so dass man diese
vergleichen kann. Zu guter Letzt enthält sie noch die Laufzeit in
Millisekunden.</p>             </td>             <td class="code">               <div class="highlight"><pre><span class="k">class</span> <span class="nx">Result</span>
        <span class="nv">constructor: </span><span class="nf">(@numberShops, @numberArticles</span>
<span class="nf">        , @optimalCost, @cost, @articleCost, @travelCost</span>
<span class="nf">        , @optimalNumberShops, @visitedShops, @runningTime, @parameter) -&gt;</span></pre></div>             </td>           </tr>                               <tr id="section-2">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-2">&#182;</a>               </div>               <p>Die Qualität ist eine von uns gewählte Variable, mit der wir Abschätzen
können wie gut unser Algorithmus im Vergleich zu optimalen Lösung
abgeschnitten hat.                </p>             </td>             <td class="code">               <div class="highlight"><pre>                <span class="vi">@quality = </span><span class="nx">cost</span> <span class="err">/ optimalCost</span>
                <span class="vi">@quality = </span><span class="nb">Math</span><span class="p">.</span><span class="nx">round</span><span class="p">(</span><span class="nx">@quality</span> <span class="o">*</span> <span class="mi">100</span><span class="p">)</span> <span class="o">/</span> <span class="mi">100</span></pre></div>             </td>           </tr>                               <tr id="section-3">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-3">&#182;</a>               </div>               <p>Pfad der JavaScript-Datei die geladen werden muss um den Algorithmus verwenden
zu können.
Die Dokumentation befindet sich <a href="greedyWorker.html">hier</a>:</p>             </td>             <td class="code">               <div class="highlight"><pre><span class="nv">GREEDY_PATH = </span><span class="s2">&quot;js/greedyWorker.js&quot;</span></pre></div>             </td>           </tr>                               <tr id="section-4">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-4">&#182;</a>               </div>               <p>Ein Array, dass die Anzahl der Artikel und Geschäfte für jeden Testfall enthält.</p>             </td>             <td class="code">               <div class="highlight"><pre><span class="nv">testCases = </span><span class="p">[]</span></pre></div>             </td>           </tr>                               <tr id="section-5">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-5">&#182;</a>               </div>               <p>Die Daten-Konstrukte <strong>graphCost</strong>, <em>graphOptimalCost</em> und <strong>graphCostConfig</strong>
enthalten Daten, die vom Flot-Graph verwendet werden. 
Näheres zu Flot findet man <a href="http://code.google.com/p/flot/">hier</a></p>             </td>             <td class="code">               <div class="highlight"><pre><span class="nv">graphCost =</span>
        <span class="nv">data : </span><span class="p">[]</span></pre></div>             </td>           </tr>                               <tr id="section-6">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-6">&#182;</a>               </div>                            </td>             <td class="code">               <div class="highlight"><pre><span class="nv">graphOptimalCost =</span>
        <span class="nv">data : </span><span class="p">[]</span></pre></div>             </td>           </tr>                               <tr id="section-7">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-7">&#182;</a>               </div>                            </td>             <td class="code">               <div class="highlight"><pre><span class="nv">graphCostConfig =</span>
        <span class="nv">lines  :</span>
                <span class="nv">show : </span><span class="kc">true</span>
        <span class="nv">points :</span>
                <span class="nv">show : </span><span class="kc">true</span>
        <span class="nv">grid:</span>
            <span class="nv">clickable: </span><span class="kc">true</span></pre></div>             </td>           </tr>                               <tr id="section-8">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-8">&#182;</a>               </div>               <p>Konfigurationsdaten für unseren Algorithmus.
Nähere Informationen finden Sie im Entwurfsdokument. </p>             </td>             <td class="code">               <div class="highlight"><pre><span class="nv">greedyConfiguration =</span>
        <span class="nv">config_TA : </span><span class="mi">0</span>
        <span class="nv">config_AA : </span><span class="mi">0</span>
        <span class="nv">config_TS : </span><span class="mi">0</span>
        <span class="nv">config_EP : </span><span class="mi">0</span>
        <span class="nv">bench_TA:</span>
            <span class="nv">min: </span><span class="mi">0</span>
            <span class="nv">step: </span><span class="mi">0</span>
            <span class="nv">max: </span><span class="mi">0</span>
        <span class="nv">bench_AA:</span>
            <span class="nv">min: </span><span class="mi">0</span>
            <span class="nv">step: </span><span class="mi">0</span>
            <span class="nv">max: </span><span class="mi">0</span>
        <span class="nv">bench_TS:</span>
            <span class="nv">min: </span><span class="mi">0</span>
            <span class="nv">step: </span><span class="mi">0</span>
            <span class="nv">max: </span><span class="mi">0</span>
        <span class="nv">bench_EP:</span>
            <span class="nv">min: </span><span class="mi">0</span>
            <span class="nv">step: </span><span class="mi">0</span>
            <span class="nv">max: </span><span class="mi">0</span>
        <span class="nv">max_iterations : </span><span class="mi">3</span></pre></div>             </td>           </tr>                               <tr id="section-9">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-9">&#182;</a>               </div>               <p>Datenkonstrukt, dass der Algorithmus benötigt. Diese werden
aus der <a href="demo.html">demo.coffee</a> geladen.
*prices: Array mit den Preisen für einen Artikel pro Geschäft
*distances: Array mit den Entfernungen der Orte untereinander
*quantities: Anzahl der zu kaufenden Artikel</p>             </td>             <td class="code">               <div class="highlight"><pre><span class="nv">data =</span>
    <span class="nv">prices: </span><span class="p">[]</span>
    <span class="nv">distances: </span><span class="p">[]</span>
    <span class="nv">quantities: </span><span class="p">[]</span></pre></div>             </td>           </tr>                               <tr id="section-10">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-10">&#182;</a>               </div>               <p><strong>Funktion, die beim initialisieren des HTML-Dokuments</strong> ausgeführt wird.</p>             </td>             <td class="code">               <div class="highlight"><pre><span class="nx">$</span> <span class="o">-&gt;</span></pre></div>             </td>           </tr>                               <tr id="section-11">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-11">&#182;</a>               </div>               <p>Da der Webworker jede Lösung zurückgibt, benötigen wir diese
Funktion um die beste zu ermitteln</p>             </td>             <td class="code">               <div class="highlight"><pre>        <span class="nv">findBestSolution = </span><span class="nf">(solutions) -&gt;</span>

                <span class="nv">lowestCost = </span><span class="kc">Infinity</span>
                <span class="nv">bestSolution = </span><span class="kc">null</span>
                <span class="k">for</span> <span class="nx">solution</span> <span class="k">in</span> <span class="nx">solutions</span>
                        <span class="k">if</span> <span class="nx">solution</span><span class="p">.</span><span class="nx">min_cost</span> <span class="o">&lt;</span> <span class="nx">lowestCost</span>
                                <span class="nv">lowestCost = </span><span class="nx">solution</span><span class="p">.</span><span class="nx">min_cost</span>
                                <span class="nv">bestSolution = </span><span class="nx">solution</span>

                <span class="k">return</span> <span class="nx">bestSolution</span></pre></div>             </td>           </tr>                               <tr id="section-12">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-12">&#182;</a>               </div>               <p>Eine Rekursive Funktion um alle Parameter durchprobieren zu können.
Geht wie folgt vor:
*Überprüfe ob alle Konfigurationen durchprobiert wurden
*Wenn nicht, starte den Worker mit der gegeben Konfiguration
*Es wird ein Event-Callback angemeldet, der eine Funktion aufruft, die alle Zwischenergebnisse sammelt und das beste zurückgibt.
*Wiederhole</p>             </td>             <td class="code">               <div class="highlight"><pre>        <span class="nv">processTests = </span><span class="nf">(algorithm, testNumber) -&gt;</span></pre></div>             </td>           </tr>                               <tr id="section-13">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-13">&#182;</a>               </div>                            </td>             <td class="code">               <div class="highlight"><pre>                <span class="nv">workerPath = </span><span class="nx">GREEDY_PATH</span>
                <span class="nv">worker = </span><span class="k">new</span> <span class="nx">Worker</span><span class="p">(</span><span class="nx">workerPath</span><span class="p">)</span></pre></div>             </td>           </tr>                               <tr id="section-14">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-14">&#182;</a>               </div>                            </td>             <td class="code">               <div class="highlight"><pre>                <span class="nv">solutions = </span><span class="p">[]</span>
                <span class="nv">iterationcount = </span><span class="mi">0</span></pre></div>             </td>           </tr>                               <tr id="section-15">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-15">&#182;</a>               </div>               <p>Akkumulieren der Ergebnisse und Ermitteln des besten Ergebnis </p>             </td>             <td class="code">               <div class="highlight"><pre>                <span class="nv">accumulate = </span><span class="nf">(solution) -&gt;</span>
                        <span class="nx">solutions</span><span class="p">.</span><span class="nx">push</span> <span class="nx">solution</span>
                        <span class="nv">greedyMax = </span><span class="nx">greedyConfiguration</span><span class="p">.</span><span class="nx">max_iterations</span>
                        <span class="nv">max = </span><span class="nx">greedyMax</span></pre></div>             </td>           </tr>                               <tr id="section-16">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-16">&#182;</a>               </div>                            </td>             <td class="code">               <div class="highlight"><pre>                        <span class="k">if</span> <span class="nx">solutions</span><span class="p">.</span><span class="nx">length</span> <span class="o">is</span> <span class="nx">max</span>
                                <span class="nv">endTime = </span><span class="k">new</span> <span class="nb">Date</span><span class="p">().</span><span class="nx">getTime</span><span class="p">()</span></pre></div>             </td>           </tr>                               <tr id="section-17">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-17">&#182;</a>               </div>                            </td>             <td class="code">               <div class="highlight"><pre>                                <span class="nv">bestSolution = </span><span class="nx">findBestSolution</span> <span class="nx">solutions</span>
                                <span class="nv">runningTime = </span><span class="nx">endTime</span> <span class="o">-</span> <span class="nx">startTime</span>
                                <span class="nv">result = </span><span class="k">new</span> <span class="nx">Result</span><span class="p">((</span><span class="nx">data</span><span class="p">.</span><span class="nx">prices</span><span class="p">.</span><span class="nx">length</span> <span class="o">+</span> <span class="mi">1</span><span class="p">),</span> <span class="nx">data</span><span class="p">.</span><span class="nx">prices</span><span class="p">.</span><span class="nx">length</span><span class="p">,</span>
                                        <span class="nx">data</span><span class="p">.</span><span class="nx">testSet</span><span class="p">.</span><span class="nx">optimalCost</span><span class="p">,</span> <span class="nx">bestSolution</span><span class="p">.</span><span class="nx">min_cost</span><span class="p">,</span>
                                        <span class="nx">bestSolution</span><span class="p">.</span><span class="nx">article_cost</span><span class="p">,</span> <span class="nx">bestSolution</span><span class="p">.</span><span class="nx">travel_cost</span><span class="p">,</span>
                                        <span class="nx">data</span><span class="p">.</span><span class="nx">testSet</span><span class="p">.</span><span class="nx">numberShops</span><span class="p">,</span> <span class="nx">bestSolution</span><span class="p">.</span><span class="nx">best_route</span><span class="p">.</span><span class="nx">length</span><span class="p">,</span>
                                        <span class="nx">runningTime</span><span class="p">,</span> <span class="nx">bestSolution</span><span class="p">.</span><span class="nx">parameters</span><span class="p">)</span>
                                <span class="nv">solutions = </span><span class="p">[]</span>
                                <span class="nx">addResultEntry</span><span class="p">(</span><span class="o">++</span><span class="nx">iterationcount</span><span class="p">,</span> <span class="nx">result</span><span class="p">)</span></pre></div>             </td>           </tr>                               <tr id="section-18">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-18">&#182;</a>               </div>                            </td>             <td class="code">               <div class="highlight"><pre>                <span class="nx">worker</span><span class="p">.</span><span class="nx">addEventListener</span> <span class="s1">&#39;message&#39;</span><span class="p">,</span> <span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="o">=&gt;</span></pre></div>             </td>           </tr>                               <tr id="section-19">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-19">&#182;</a>               </div>               <p>Überprüfe ob der Testlauf terminiert hat und gib die Ergebnisse aus wenn dem so ist.
Füge das Ergebnis der Ergebnismenge hinzu, wenn nicht.</p>             </td>             <td class="code">               <div class="highlight"><pre>                    <span class="k">if</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">solution</span><span class="p">)</span>
                        <span class="nx">accumulate</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">solution</span><span class="p">)</span></pre></div>             </td>           </tr>                               <tr id="section-20">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-20">&#182;</a>               </div>                            </td>             <td class="code">               <div class="highlight"><pre>                    <span class="k">else</span> <span class="k">if</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">message</span> <span class="o">==</span> <span class="s1">&#39;termination&#39;</span><span class="p">)</span>
                        <span class="nx">plotGraphs</span><span class="p">()</span></pre></div>             </td>           </tr>                               <tr id="section-21">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-21">&#182;</a>               </div>               <p>Zurücksetzen der GUI um einen weiteren Testlauf starten zu können</p>             </td>             <td class="code">               <div class="highlight"><pre>                        <span class="nx">$</span><span class="p">(</span><span class="s1">&#39;#runGreedy&#39;</span><span class="p">).</span><span class="nx">html</span><span class="p">(</span><span class="s2">&quot;Greedy Algorithm&quot;</span><span class="p">).</span><span class="nx">addClass</span><span class="p">(</span><span class="s2">&quot;primary&quot;</span><span class="p">)</span>
                        <span class="nx">$</span><span class="p">(</span><span class="s1">&#39;#runGreedy&#39;</span><span class="p">).</span><span class="nx">one</span> <span class="s1">&#39;click&#39;</span><span class="p">,</span> <span class="nf">(event) -&gt;</span>
                            <span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">html</span><span class="p">(</span><span class="s2">&quot;Running&quot;</span><span class="p">).</span><span class="nx">removeClass</span><span class="p">(</span><span class="s2">&quot;primary&quot;</span><span class="p">)</span>
                            <span class="nx">testAlgorithm</span><span class="p">(</span><span class="s1">&#39;Greedy&#39;</span><span class="p">,</span> <span class="nx">event</span><span class="p">)</span>
                        <span class="nx">$</span><span class="p">(</span><span class="s2">&quot;table#resultTable&quot;</span><span class="p">).</span><span class="nx">trigger</span><span class="p">(</span><span class="s2">&quot;update&quot;</span><span class="p">)</span></pre></div>             </td>           </tr>                               <tr id="section-22">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-22">&#182;</a>               </div>               <p>Ermitteln der Laufzeit durch das JavaScript Date-Onjekt</p>             </td>             <td class="code">               <div class="highlight"><pre>                <span class="nv">startTime = </span><span class="k">new</span> <span class="nb">Date</span><span class="p">().</span><span class="nx">getTime</span><span class="p">()</span></pre></div>             </td>           </tr>                               <tr id="section-23">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-23">&#182;</a>               </div>               <p>Wir schicken eine Nachricht an den Werbworker dass er loslegen soll</p>             </td>             <td class="code">               <div class="highlight"><pre>                <span class="nx">worker</span><span class="p">.</span><span class="nx">postMessage</span><span class="p">(</span>
                        <span class="s1">&#39;command&#39;</span>   <span class="o">:</span> <span class="s1">&#39;benchmark&#39;</span>
                        <span class="s1">&#39;settings&#39;</span>  <span class="o">:</span> <span class="nx">greedyConfiguration</span>
                        <span class="s1">&#39;distances&#39;</span> <span class="o">:</span> <span class="nx">data</span><span class="p">.</span><span class="nx">distances</span>
                        <span class="s1">&#39;prices&#39;</span>    <span class="o">:</span> <span class="nx">data</span><span class="p">.</span><span class="nx">prices</span>
                        <span class="s1">&#39;quantities&#39;</span><span class="o">:</span> <span class="nx">data</span><span class="p">.</span><span class="nx">quantities</span>
                <span class="p">)</span></pre></div>             </td>           </tr>                               <tr id="section-24">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-24">&#182;</a>               </div>               <p>Aufbauen der Ergebnis-Tabelle und bauen des Flot-Graphs</p>             </td>             <td class="code">               <div class="highlight"><pre>        <span class="nv">addResultEntry = </span><span class="nf">(testNumber, result) -&gt;</span>
                <span class="nv">tableRow = </span><span class="nx">$</span><span class="p">(</span><span class="s2">&quot;&lt;tr&gt;&quot;</span><span class="p">)</span>
                <span class="nx">tableRow</span><span class="p">.</span><span class="nx">append</span> <span class="s2">&quot;&lt;td&gt;&lt;a id=&#39;result_#{testNumber}&#39; name=&#39;#{testNumber}&#39;&gt;#{testNumber}&lt;/a&gt;&lt;/td&gt;&quot;</span>
                <span class="nx">tableRow</span><span class="p">.</span><span class="nx">append</span> <span class="s2">&quot;&lt;td&gt;#{result.optimalCost}&lt;/td&gt;&quot;</span>
                <span class="nx">tableRow</span><span class="p">.</span><span class="nx">append</span> <span class="s2">&quot;&lt;td&gt;&lt;strong&gt;#{result.cost}&lt;/strong&gt;&lt;/td&gt;&quot;</span>
                <span class="nx">tableRow</span><span class="p">.</span><span class="nx">append</span> <span class="s2">&quot;&lt;td&gt;x #{result.quality}&lt;/td&gt;&quot;</span>
                <span class="nx">tableRow</span><span class="p">.</span><span class="nx">append</span> <span class="s2">&quot;&lt;td&gt;#{result.articleCost}&lt;/td&gt;&quot;</span>
                <span class="nx">tableRow</span><span class="p">.</span><span class="nx">append</span> <span class="s2">&quot;&lt;td&gt;#{result.travelCost}&lt;/td&gt;&quot;</span>
                <span class="nx">tableRow</span><span class="p">.</span><span class="nx">append</span> <span class="s2">&quot;&lt;td&gt;#{result.parameter.config_TA} &lt;/td&gt;&quot;</span>
                <span class="nx">tableRow</span><span class="p">.</span><span class="nx">append</span> <span class="s2">&quot;&lt;td&gt;#{result.parameter.config_AA} &lt;/td&gt;&quot;</span>
                <span class="nx">tableRow</span><span class="p">.</span><span class="nx">append</span> <span class="s2">&quot;&lt;td&gt;#{result.parameter.config_TS} &lt;/td&gt;&quot;</span>
                <span class="nx">tableRow</span><span class="p">.</span><span class="nx">append</span> <span class="s2">&quot;&lt;td&gt;#{result.parameter.config_EP} &lt;/td&gt;&quot;</span>
                <span class="nx">$</span><span class="p">(</span><span class="s2">&quot;#resultTable tbody&quot;</span><span class="p">).</span><span class="nx">append</span> <span class="nx">tableRow</span></pre></div>             </td>           </tr>                               <tr id="section-25">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-25">&#182;</a>               </div>                            </td>             <td class="code">               <div class="highlight"><pre>                <span class="nx">graphCost</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">push</span> <span class="p">[</span><span class="nx">testNumber</span><span class="p">,</span> <span class="nx">result</span><span class="p">.</span><span class="nx">cost</span><span class="p">]</span></pre></div>             </td>           </tr>                               <tr id="section-26">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-26">&#182;</a>               </div>                            </td>             <td class="code">               <div class="highlight"><pre>                <span class="k">if</span> <span class="nx">graphCost</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">length</span> <span class="o">&lt;</span> <span class="mi">200</span> <span class="o">||</span> <span class="nx">graphCost</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">length</span> <span class="o">%</span> <span class="mi">25</span> <span class="o">==</span> <span class="mi">0</span>
                    <span class="nx">plotGraphs</span><span class="p">()</span></pre></div>             </td>           </tr>                               <tr id="section-27">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-27">&#182;</a>               </div>               <p>Parsen der Parameter und Aufruf der Verarbeitung</p>             </td>             <td class="code">               <div class="highlight"><pre>        <span class="nv">testAlgorithm = </span><span class="nf">(algorithm, event) -&gt;</span>
                <span class="nv">greedyConfiguration.bench_TA.min = </span><span class="nb">parseInt</span> <span class="nx">$</span><span class="p">(</span><span class="s1">&#39;#TA_min&#39;</span><span class="p">).</span><span class="nx">val</span><span class="p">()</span>
                <span class="nv">greedyConfiguration.bench_TA.step = </span><span class="nb">parseInt</span> <span class="nx">$</span><span class="p">(</span><span class="s1">&#39;#TA_step&#39;</span><span class="p">).</span><span class="nx">val</span><span class="p">()</span>
                <span class="nv">greedyConfiguration.bench_TA.max = </span><span class="nb">parseInt</span> <span class="nx">$</span><span class="p">(</span><span class="s1">&#39;#TA_max&#39;</span><span class="p">).</span><span class="nx">val</span><span class="p">()</span>
                <span class="nv">greedyConfiguration.bench_AA.min = </span><span class="nb">parseInt</span> <span class="nx">$</span><span class="p">(</span><span class="s1">&#39;#AA_min&#39;</span><span class="p">).</span><span class="nx">val</span><span class="p">()</span>
                <span class="nv">greedyConfiguration.bench_AA.step = </span><span class="nb">parseInt</span> <span class="nx">$</span><span class="p">(</span><span class="s1">&#39;#AA_step&#39;</span><span class="p">).</span><span class="nx">val</span><span class="p">()</span>
                <span class="nv">greedyConfiguration.bench_AA.max = </span><span class="nb">parseInt</span> <span class="nx">$</span><span class="p">(</span><span class="s1">&#39;#AA_max&#39;</span><span class="p">).</span><span class="nx">val</span><span class="p">()</span>
                <span class="nv">greedyConfiguration.bench_TS.min = </span><span class="nb">parseInt</span> <span class="nx">$</span><span class="p">(</span><span class="s1">&#39;#TS_min&#39;</span><span class="p">).</span><span class="nx">val</span><span class="p">()</span>
                <span class="nv">greedyConfiguration.bench_TS.step = </span><span class="nb">parseInt</span> <span class="nx">$</span><span class="p">(</span><span class="s1">&#39;#TS_step&#39;</span><span class="p">).</span><span class="nx">val</span><span class="p">()</span>
                <span class="nv">greedyConfiguration.bench_TS.max = </span><span class="nb">parseInt</span> <span class="nx">$</span><span class="p">(</span><span class="s1">&#39;#TS_max&#39;</span><span class="p">).</span><span class="nx">val</span><span class="p">()</span>
                <span class="nv">greedyConfiguration.bench_EP.min = </span><span class="nb">parseInt</span> <span class="nx">$</span><span class="p">(</span><span class="s1">&#39;#EP_min&#39;</span><span class="p">).</span><span class="nx">val</span><span class="p">()</span>
                <span class="nv">greedyConfiguration.bench_EP.step = </span><span class="nb">parseInt</span> <span class="nx">$</span><span class="p">(</span><span class="s1">&#39;#EP_step&#39;</span><span class="p">).</span><span class="nx">val</span><span class="p">()</span>
                <span class="nv">greedyConfiguration.bench_EP.max = </span><span class="nb">parseInt</span> <span class="nx">$</span><span class="p">(</span><span class="s1">&#39;#EP_max&#39;</span><span class="p">).</span><span class="nx">val</span><span class="p">()</span></pre></div>             </td>           </tr>                               <tr id="section-28">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-28">&#182;</a>               </div>                            </td>             <td class="code">               <div class="highlight"><pre>                <span class="nv">greedyConfiguration.max_iterations = </span><span class="nb">parseInt</span> <span class="nx">$</span><span class="p">(</span><span class="s1">&#39;#numberIterations&#39;</span><span class="p">).</span><span class="nx">val</span><span class="p">()</span>
                <span class="nx">reset</span><span class="p">()</span></pre></div>             </td>           </tr>                               <tr id="section-29">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-29">&#182;</a>               </div>                            </td>             <td class="code">               <div class="highlight"><pre>                <span class="nv">testNumber = </span><span class="nb">parseInt</span> <span class="nx">$</span><span class="p">(</span><span class="s1">&#39;#testCount&#39;</span><span class="p">).</span><span class="nx">val</span><span class="p">()</span>
                <span class="nv">testSet = </span><span class="nx">tpplib</span><span class="p">[</span><span class="nx">testNumber</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span>
                <span class="nv">data.testSet = </span><span class="nx">testSet</span>
                <span class="nv">parsedPrices = </span><span class="nx">parsePricesCSV</span> <span class="nx">testSet</span><span class="p">.</span><span class="nx">articles</span>
                <span class="nv">data.prices = </span><span class="nx">parsedPrices</span><span class="p">.</span><span class="nx">matrix</span>
                <span class="nv">data.quantities = </span><span class="nx">parsedPrices</span><span class="p">.</span><span class="nx">quantities</span>
                <span class="nv">parsedDistances = </span><span class="nx">parseDistancesCSV</span> <span class="nx">testSet</span><span class="p">.</span><span class="nx">shops</span>
                <span class="nv">data.distances = </span><span class="p">(</span><span class="nx">Shoptimize</span><span class="p">.</span><span class="nx">floydWarshall</span> <span class="nx">parsedDistances</span><span class="p">.</span><span class="nx">matrix</span><span class="p">).</span><span class="nx">matrix</span></pre></div>             </td>           </tr>                               <tr id="section-30">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-30">&#182;</a>               </div>                            </td>             <td class="code">               <div class="highlight"><pre>                <span class="nx">processTests</span><span class="p">(</span><span class="nx">algorithm</span><span class="p">,</span> <span class="nx">testNumber</span><span class="p">)</span></pre></div>             </td>           </tr>                               <tr id="section-31">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-31">&#182;</a>               </div>               <p>Zurücksetzen der Ergebnistabelle</p>             </td>             <td class="code">               <div class="highlight"><pre>        <span class="nv">reset = </span><span class="nf">() -&gt;</span>
                <span class="nx">$</span><span class="p">(</span><span class="s1">&#39;#resultTable &gt; tbody:last&#39;</span><span class="p">).</span><span class="nx">empty</span><span class="p">()</span>
                <span class="nv">graphCost.data = </span><span class="p">[]</span>
                <span class="nv">graphOptimalCost.data = </span><span class="p">[]</span>
                <span class="k">return</span></pre></div>             </td>           </tr>                               <tr id="section-32">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-32">&#182;</a>               </div>               <p>Plotten des Flot-Graphs</p>             </td>             <td class="code">               <div class="highlight"><pre>        <span class="nv">plotGraphs = </span><span class="nf">() -&gt;</span>
                <span class="k">if</span> <span class="nx">$</span><span class="p">(</span><span class="s1">&#39;#qualityGraph&#39;</span><span class="p">).</span><span class="nx">css</span><span class="p">(</span><span class="s1">&#39;width&#39;</span><span class="p">)</span> <span class="o">isnt</span> <span class="s1">&#39;0px&#39;</span>
                    <span class="nx">$</span><span class="p">.</span><span class="nx">plot</span><span class="p">(</span><span class="nx">$</span><span class="p">(</span><span class="s1">&#39;#qualityGraph&#39;</span><span class="p">),</span> <span class="p">[</span><span class="nx">graphCost</span><span class="p">,</span> <span class="nx">graphOptimalCost</span><span class="p">],</span> <span class="nx">graphCostConfig</span><span class="p">)</span></pre></div>             </td>           </tr>                               <tr id="section-33">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-33">&#182;</a>               </div>               <p>Anmelden des Click-Events zum Starten der Testläufe</p>             </td>             <td class="code">               <div class="highlight"><pre>        <span class="nx">$</span><span class="p">(</span><span class="s1">&#39;#runGreedy&#39;</span><span class="p">).</span><span class="nx">one</span> <span class="s1">&#39;click&#39;</span><span class="p">,</span> <span class="nf">(event) -&gt;</span>
                <span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">html</span><span class="p">(</span><span class="s2">&quot;Running&quot;</span><span class="p">).</span><span class="nx">removeClass</span><span class="p">(</span><span class="s2">&quot;primary&quot;</span><span class="p">)</span>
                <span class="nx">testAlgorithm</span><span class="p">(</span><span class="s1">&#39;Greedy&#39;</span><span class="p">,</span> <span class="nx">event</span><span class="p">)</span></pre></div>             </td>           </tr>                               <tr id="section-34">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-34">&#182;</a>               </div>                            </td>             <td class="code">               <div class="highlight"><pre>        <span class="nx">$</span><span class="p">(</span><span class="s1">&#39;#qualityGraph&#39;</span><span class="p">).</span><span class="nx">css</span><span class="p">(</span><span class="s1">&#39;height&#39;</span><span class="p">,</span><span class="mi">220</span><span class="p">).</span><span class="nx">css</span><span class="p">(</span><span class="s1">&#39;overflow&#39;</span><span class="p">,</span><span class="s1">&#39;hidden&#39;</span><span class="p">)</span>
        <span class="nx">plotGraphs</span><span class="p">()</span></pre></div>             </td>           </tr>                               <tr id="section-35">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-35">&#182;</a>               </div>                            </td>             <td class="code">               <div class="highlight"><pre>        <span class="nx">$</span><span class="p">(</span><span class="s1">&#39;#resultTable&#39;</span><span class="p">).</span><span class="nx">parent</span><span class="p">().</span><span class="nx">css</span><span class="p">({</span><span class="nv">height: </span><span class="s1">&#39;280px&#39;</span><span class="p">,</span> <span class="nv">overflowY: </span><span class="s1">&#39;scroll&#39;</span><span class="p">})</span>
        <span class="nx">$</span><span class="p">(</span><span class="s1">&#39;#qualityGraph&#39;</span><span class="p">).</span><span class="kc">on</span> <span class="s2">&quot;plotclick&quot;</span><span class="p">,</span> <span class="p">(</span><span class="nx">event</span><span class="p">,</span> <span class="nx">pos</span><span class="p">,</span> <span class="nx">item</span><span class="p">)</span> <span class="o">=&gt;</span>
            <span class="k">if</span> <span class="p">(</span><span class="nx">item</span><span class="p">)</span></pre></div>             </td>           </tr>                               <tr id="section-36">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-36">&#182;</a>               </div>                            </td>             <td class="code">               <div class="highlight"><pre>                <span class="nv">tmp_row = </span><span class="nx">$</span><span class="p">(</span><span class="s2">&quot;#resultTable tbody tr&quot;</span><span class="p">).</span><span class="nx">index</span><span class="p">(</span><span class="nx">$</span><span class="p">(</span><span class="s1">&#39;#result_&#39;</span><span class="o">+</span><span class="p">(</span><span class="nx">item</span><span class="p">.</span><span class="nx">dataIndex</span><span class="o">+</span><span class="mi">1</span><span class="p">)).</span><span class="nx">parent</span><span class="p">().</span><span class="nx">parent</span><span class="p">())</span>
                <span class="nv">target_top = </span><span class="nx">tmp_row</span><span class="o">*</span><span class="mi">37</span> <span class="o">-</span> <span class="mi">26</span>
                <span class="nx">$</span><span class="p">(</span><span class="s1">&#39;#resultTable&#39;</span><span class="p">).</span><span class="nx">parent</span><span class="p">().</span><span class="nx">animate</span><span class="p">({</span><span class="nx">scrollTop</span><span class="o">:</span><span class="nx">target_top</span><span class="p">},</span> <span class="mi">1000</span><span class="p">)</span>
                <span class="nx">$</span><span class="p">(</span><span class="s2">&quot;#resultTable tr&quot;</span><span class="p">).</span><span class="nx">css</span><span class="p">({</span><span class="nv">backgroundColor: </span><span class="s2">&quot;#FFFFFF&quot;</span><span class="p">})</span>
                <span class="nx">$</span><span class="p">(</span><span class="s2">&quot;#result_&quot;</span><span class="o">+</span><span class="p">(</span><span class="nx">item</span><span class="p">.</span><span class="nx">dataIndex</span><span class="o">+</span><span class="mi">1</span><span class="p">)).</span><span class="nx">parent</span><span class="p">().</span><span class="nx">parent</span><span class="p">().</span><span class="nx">css</span><span class="p">({</span><span class="nv">backgroundColor: </span><span class="s2">&quot;#E3FFE3&quot;</span><span class="p">})</span></pre></div>             </td>           </tr>                               <tr id="section-37">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-37">&#182;</a>               </div>                            </td>             <td class="code">               <div class="highlight"><pre>        <span class="nx">$</span><span class="p">(</span><span class="s2">&quot;table#resultTable&quot;</span><span class="p">).</span><span class="nx">tablesorter</span><span class="p">()</span>

</pre></div>             </td>           </tr>                </tbody>     </table>   </div> </body> </html> 