<!DOCTYPE html>  <html> <head>   <title>gmaps.coffee</title>   <meta http-equiv="content-type" content="text/html; charset=UTF-8">   <link rel="stylesheet" media="all" href="docco.css" /> </head> <body>   <div id="container">     <div id="background"></div>            <div id="jump_to">         Jump To &hellip;         <div id="jump_wrapper">           <div id="jump_page">                                           <a class="source" href="anlegenPanel.html">                 anlegenPanel.coffee               </a>                                           <a class="source" href="benchmark.html">                 benchmark.coffee               </a>                                           <a class="source" href="benchmark_greedyparameter.html">                 benchmark_greedyparameter.coffee               </a>                                           <a class="source" href="configurationPanel.html">                 configurationPanel.coffee               </a>                                           <a class="source" href="controlPanel.html">                 controlPanel.coffee               </a>                                           <a class="source" href="demo.html">                 demo.coffee               </a>                                           <a class="source" href="demoPanel.html">                 demoPanel.coffee               </a>                                           <a class="source" href="flot.html">                 flot.coffee               </a>                                           <a class="source" href="floyd.html">                 floyd.coffee               </a>                                           <a class="source" href="gmaps.html">                 gmaps.coffee               </a>                                           <a class="source" href="greedyWorker.html">                 greedyWorker.coffee               </a>                                           <a class="source" href="importPanel.html">                 importPanel.coffee               </a>                                           <a class="source" href="init.html">                 init.coffee               </a>                                           <a class="source" href="jit.html">                 jit.coffee               </a>                                           <a class="source" href="parse.html">                 parse.coffee               </a>                                           <a class="source" href="routePanel.html">                 routePanel.coffee               </a>                                           <a class="source" href="startPanel.html">                 startPanel.coffee               </a>                                           <a class="source" href="util.html">                 util.coffee               </a>                                           <a class="source" href="viz.html">                 viz.coffee               </a>                        </div>         </div>       </div>          <table cellpadding="0" cellspacing="0">       <thead>         <tr>           <th class="docs">             <h1>               gmaps.coffee             </h1>           </th>           <th class="code">           </th>         </tr>       </thead>       <tbody>                               <tr id="section-1">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-1">&#182;</a>               </div>               <h1>#</h1>             </td>             <td class="code">               <div class="highlight"><pre>    <span class="nx">gmaps</span><span class="p">.</span><span class="nx">coffee</span> <span class="o">-</span> <span class="nx">Ansicht</span> <span class="nx">f</span><span class="err">ü</span><span class="nx">r</span> <span class="nx">die</span> <span class="nx">Darstellung</span> <span class="nx">der</span> <span class="nx">berechneten</span> <span class="nx">Einkaufsrouten</span><span class="p">.</span></pre></div>             </td>           </tr>                               <tr id="section-2">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-2">&#182;</a>               </div>               <h1>#</h1>             </td>             <td class="code">               <div class="highlight"><pre><span class="nv">Shoptimize = </span><span class="nb">window</span><span class="p">.</span><span class="nx">Shoptimize</span>

<span class="nv">root = </span><span class="k">this</span>

<span class="nv">algorithmdistances = </span><span class="p">[]</span>
<span class="nv">routedata = </span><span class="p">[]</span>

<span class="nv">cleanUp = </span><span class="o">-&gt;</span>
    <span class="nv">elements = </span><span class="nx">$</span><span class="p">(</span><span class="s2">&quot;#vizCanvas *:not(#messagePane)&quot;</span><span class="p">)</span>
    <span class="nx">elements</span><span class="p">.</span><span class="nx">fadeOut</span> <span class="o">-&gt;</span>
        <span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">remove</span><span class="p">()</span>
    <span class="nx">$</span><span class="p">(</span><span class="s2">&quot;#messagePane&quot;</span><span class="p">).</span><span class="nx">fadeIn</span><span class="p">()</span>


<span class="nv">Shoptimize.GoogleMaps = </span><span class="o">-&gt;</span>
    <span class="nv">gmapsContainer = </span><span class="nx">$</span><span class="p">(</span><span class="s2">&quot;&lt;div id=&#39;routereplay&#39; class=&#39;nano&#39;&gt;&quot;</span><span class="p">)</span>
        <span class="p">.</span><span class="nx">appendTo</span><span class="p">(</span><span class="nx">$</span><span class="p">(</span><span class="s2">&quot;#vizCanvas&quot;</span><span class="p">))</span>
        <span class="p">.</span><span class="nx">html</span><span class="p">(</span><span class="s1">&#39;&lt;div class=&quot;routetablewrapper content&quot;&gt;&lt;table class=&quot;route&quot; summary=&quot;&quot;&gt;&lt;/table&gt;&lt;/div&gt;&#39;</span><span class="p">)</span>
  
    <span class="nv">backButton = </span><span class="nx">$</span><span class="p">(</span><span class="s2">&quot;&lt;div class=&#39;button iconButton&#39; id=&#39;oneStepBack&#39;&gt;Zurück&lt;/div&gt;&quot;</span><span class="p">)</span>
        <span class="p">.</span><span class="nx">hide</span><span class="p">()</span>
        <span class="p">.</span><span class="nx">appendTo</span><span class="p">(</span><span class="nx">$</span><span class="p">(</span><span class="s2">&quot;#vizCanvas&quot;</span><span class="p">))</span>
        <span class="p">.</span><span class="nx">fadeIn</span><span class="p">()</span>
        <span class="p">.</span><span class="kc">on</span> <span class="s2">&quot;click&quot;</span><span class="p">,</span> <span class="o">-&gt;</span>
            <span class="nx">cleanUp</span><span class="p">()</span>
            <span class="nx">ControlPanel</span><span class="p">(</span><span class="nx">routedata</span><span class="p">)</span>


  
    <span class="nx">$</span><span class="p">(</span><span class="s2">&quot;#routereplay.nano&quot;</span><span class="p">).</span><span class="nx">nanoScroller</span><span class="p">()</span>

<span class="nv">Shoptimize.GoogleMaps.init = </span><span class="nf">(data) -&gt;</span>
     <span class="nv">routedata = </span><span class="nx">data</span>

<span class="nv">Shoptimize.GoogleMaps.setDistances = </span><span class="nf">(dist) -&gt;</span>
    <span class="nv">algorithmdistances = </span><span class="nx">dist</span></pre></div>             </td>           </tr>                               <tr id="section-3">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-3">&#182;</a>               </div>               <p>This functions loads a route into the google-maps-like routereplayer
First of all, iterate over the route and create a row for the 'movement' either to a shop or back home
If moved to a shop, create new rows for each item bought at the shop traveled to.
After every step write some small summary</p>             </td>             <td class="code">               <div class="highlight"><pre><span class="nv">Shoptimize.GoogleMaps.loadRouteIntoPlayer = </span><span class="nf">(routeindex) -&gt;</span>
    <span class="nv">solution = </span><span class="nx">RESULTS</span><span class="p">.</span><span class="nx">solutions</span><span class="p">[</span><span class="nx">routeindex</span><span class="p">]</span>
    <span class="nv">data = </span><span class="nx">routedata</span>

    <span class="nv">showAndResetRoutePlayer = </span><span class="nf">() -&gt;</span>
        <span class="nx">$</span><span class="p">(</span> <span class="s2">&quot;#routereplay table.route&quot;</span> <span class="p">).</span><span class="nx">html</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">)</span>
        </pre></div>             </td>           </tr>                               <tr id="section-4">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-4">&#182;</a>               </div>               <h1>#</h1>             </td>             <td class="code">               <div class="highlight"><pre>        <span class="nx">$</span><span class="p">(</span> <span class="s2">&quot;#routereplay #customExplain&quot;</span><span class="p">).</span><span class="nx">remove</span><span class="p">()</span>
        <span class="nv">vizData = </span><span class="nx">routedata</span>
        <span class="nv">vizData.shops = </span><span class="nx">routedata</span><span class="p">.</span><span class="nx">shops</span>
        <span class="nv">vizData.allDistances = </span><span class="nx">routedata</span><span class="p">.</span><span class="nx">floydWarshall</span><span class="p">.</span><span class="nx">matrix</span>
        <span class="nv">vizData.history = </span><span class="nx">solution</span><span class="p">.</span><span class="nx">routereplaydata</span>
        <span class="nv">explainButton = </span><span class="nx">$</span><span class="p">(</span><span class="s2">&quot;&lt;div class=&#39;button iconButton&#39; id=&#39;customExplain&#39;&gt;&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">insertBefore</span><span class="p">(</span><span class="s2">&quot;#routereplay table&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">text</span><span class="p">(</span><span class="s2">&quot;Erklären&quot;</span><span class="p">)</span>
            <span class="p">.</span><span class="kc">on</span> <span class="s2">&quot;click&quot;</span><span class="p">,</span> <span class="o">-&gt;</span>
                <span class="nv">elements = </span><span class="nx">$</span><span class="p">(</span><span class="s2">&quot;#vizCanvas *:not(#messagePane)&quot;</span><span class="p">)</span>
                <span class="nx">elements</span><span class="p">.</span><span class="nx">fadeOut</span> <span class="o">-&gt;</span>
                    <span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">remove</span><span class="p">()</span>
                <span class="nx">after</span> <span class="mi">500</span><span class="p">,</span> <span class="o">-&gt;</span>
                    <span class="nx">Shoptimize</span><span class="p">.</span><span class="nx">Viz</span><span class="p">()</span>
                    <span class="nx">Shoptimize</span><span class="p">.</span><span class="nx">startViz</span> <span class="nx">vizData</span></pre></div>             </td>           </tr>                               <tr id="section-5">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-5">&#182;</a>               </div>               <h1>#</h1>             </td>             <td class="code">               <div class="highlight"><pre>  

        <span class="nx">$</span><span class="p">(</span> <span class="s2">&quot;#routereplay&quot;</span><span class="p">).</span><span class="nx">show</span><span class="p">()</span>
    <span class="nx">showAndResetRoutePlayer</span><span class="p">()</span>

    <span class="nv">translateToJson = </span><span class="nf">(realsteps) -&gt;</span>
        <span class="nx">realsteps</span><span class="p">.</span><span class="nx">join</span><span class="p">(</span><span class="s2">&quot;:&quot;</span><span class="p">)</span></pre></div>             </td>           </tr>                               <tr id="section-6">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-6">&#182;</a>               </div>               <p>triggered when hovering over a tbody.movement
highlight arrows pointing the RIGHT way and, (more important) restore old graph after leaving tbody</p>             </td>             <td class="code">               <div class="highlight"><pre>    <span class="nv">highlightMovement = </span><span class="nf">(jsonsteps, high) -&gt;</span>
        <span class="nv">steps = </span><span class="nx">jsonsteps</span><span class="p">.</span><span class="nx">split</span><span class="p">(</span><span class="s2">&quot;:&quot;</span><span class="p">)</span>
        <span class="nx">unhighlightAllEdges</span><span class="p">()</span>
        <span class="k">for</span> <span class="nx">step</span> <span class="k">in</span> <span class="p">[</span><span class="mi">0</span><span class="p">..</span><span class="nx">steps</span><span class="p">.</span><span class="nx">length</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span>
           <span class="nx">JitGraph</span><span class="p">.</span><span class="nx">highlightEdge</span><span class="p">(</span><span class="nx">steps</span><span class="p">[</span><span class="nx">step</span><span class="p">],</span> <span class="nx">steps</span><span class="p">[</span><span class="nx">step</span><span class="o">+</span><span class="mi">1</span><span class="p">],</span> <span class="nx">GRAPH_EDGE_HIGHLIGHT_COLOR</span><span class="p">)</span>

    
    <span class="nv">stations = </span><span class="nx">solution</span><span class="p">.</span><span class="nx">translated_route</span><span class="p">.</span><span class="nx">split</span><span class="p">(</span><span class="s2">&quot;:&quot;</span><span class="p">)</span>
    <span class="k">for</span> <span class="nx">s</span> <span class="k">in</span> <span class="p">[</span><span class="mi">0</span><span class="p">..</span><span class="nx">stations</span><span class="p">.</span><span class="nx">length</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span>
        <span class="nv">from = </span><span class="nb">parseInt</span><span class="p">(</span><span class="nx">stations</span><span class="p">[</span><span class="nx">s</span><span class="p">])</span>
        <span class="nv">to = </span><span class="nb">parseInt</span><span class="p">(</span><span class="nx">stations</span><span class="p">[</span><span class="nx">s</span><span class="o">+</span><span class="mi">1</span><span class="p">])</span>
        <span class="nv">traveldistance = </span><span class="nx">roundCurrency</span><span class="p">(</span><span class="nx">algorithmdistances</span><span class="p">[</span><span class="nx">from</span><span class="p">][</span><span class="nx">to</span><span class="p">])</span>
        
        <span class="nx">$</span><span class="p">(</span><span class="s2">&quot;#routereplay table.route&quot;</span><span class="p">).</span><span class="nx">append</span><span class="p">(</span><span class="s1">&#39;&lt;tbody class=&quot;movement&quot;&gt;&lt;/tbody&gt;&#39;</span><span class="p">)</span>
        <span class="nv">path = </span><span class="nx">getPath</span><span class="p">(</span><span class="nx">data</span><span class="p">.</span><span class="nx">floydWarshall</span><span class="p">,</span> <span class="nx">from</span><span class="p">,</span> <span class="nx">to</span><span class="p">)</span>
        <span class="nv">current = </span><span class="nx">from</span>
        <span class="nv">jsonroute = </span><span class="p">[</span><span class="nx">from</span><span class="p">]</span>
        <span class="nv">number = </span><span class="p">(</span><span class="nx">s</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span><span class="o">+</span><span class="s2">&quot;. &quot;</span>
        <span class="k">if</span> <span class="nx">path</span><span class="p">.</span><span class="nx">length</span> <span class="o">&gt;</span> <span class="mi">0</span>
            <span class="k">for</span> <span class="nx">intermediate</span> <span class="k">in</span> <span class="nx">path</span>
                <span class="nv">intermShopRow = </span><span class="nx">$</span><span class="p">(</span> <span class="s2">&quot;#factory tbody.routereplay tr.walktoshop&quot;</span> <span class="p">).</span><span class="nx">clone</span><span class="p">()</span>
                <span class="nx">intermShopRow</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span><span class="s2">&quot;.description&quot;</span><span class="p">).</span><span class="nx">html</span><span class="p">(</span><span class="nx">number</span><span class="o">+</span><span class="s2">&quot;&amp;Uuml;ber Gesch&amp;auml;ft &lt;strong&gt;&quot;</span><span class="o">+</span><span class="nx">data</span><span class="p">.</span><span class="nx">shops</span><span class="p">[</span><span class="nx">intermediate</span><span class="p">]</span><span class="o">+</span><span class="s2">&quot;&lt;/strong&gt;&quot;</span><span class="p">)</span>
                <span class="nv">cost = </span><span class="nx">data</span><span class="p">.</span><span class="nx">distances</span><span class="p">[</span><span class="nx">current</span><span class="p">][</span><span class="nx">intermediate</span><span class="p">]</span>
                <span class="nx">intermShopRow</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span><span class="s2">&quot;.cost&quot;</span><span class="p">).</span><span class="nx">html</span><span class="p">(</span><span class="nx">cost</span><span class="p">)</span>
                <span class="nx">$</span><span class="p">(</span><span class="s2">&quot;#routereplay table.route tbody:last-child&quot;</span><span class="p">).</span><span class="nx">append</span><span class="p">(</span><span class="nx">intermShopRow</span><span class="p">)</span>
                <span class="nv">current = </span><span class="nx">intermediate</span>
                <span class="nx">jsonroute</span><span class="p">.</span><span class="nx">push</span> <span class="nx">intermediate</span>
                <span class="nv">number = </span><span class="s2">&quot;&quot;</span>
        <span class="nv">label = </span><span class="nx">number</span><span class="o">+</span><span class="s2">&quot;Gehe zu Gesch&amp;auml;ft &lt;strong&gt;&quot;</span><span class="o">+</span><span class="nx">data</span><span class="p">.</span><span class="nx">shops</span><span class="p">[</span><span class="nx">to</span><span class="p">]</span><span class="o">+</span><span class="s2">&quot;&lt;/strong&gt;&quot;</span>
        <span class="k">if</span><span class="p">(</span><span class="nx">to</span><span class="o">==</span><span class="mi">0</span><span class="p">)</span>
            <span class="nv">label = </span><span class="nx">number</span><span class="o">+</span><span class="s2">&quot;Gehe zur&amp;uuml;ck zum &lt;strong&gt;Startpunkt&lt;/strong&gt;&quot;</span>
        <span class="nx">jsonroute</span><span class="p">.</span><span class="nx">push</span> <span class="nx">to</span>
            
        <span class="nv">newrow = </span><span class="nx">$</span><span class="p">(</span> <span class="s2">&quot;#factory tbody.routereplay tr.walktoshop&quot;</span> <span class="p">).</span><span class="nx">clone</span><span class="p">()</span>
        <span class="nx">newrow</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span><span class="s2">&quot;.description&quot;</span><span class="p">).</span><span class="nx">html</span><span class="p">(</span><span class="nx">label</span><span class="p">)</span>
        <span class="nx">newrow</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span><span class="s2">&quot;.cost&quot;</span><span class="p">).</span><span class="nx">html</span><span class="p">(</span><span class="nx">data</span><span class="p">.</span><span class="nx">distances</span><span class="p">[</span><span class="nx">current</span><span class="p">][</span><span class="nx">to</span><span class="p">])</span>

        <span class="nx">$</span><span class="p">(</span><span class="s2">&quot;#routereplay table.route tbody:last-child&quot;</span><span class="p">).</span><span class="nx">append</span><span class="p">(</span><span class="nx">newrow</span><span class="p">)</span>


        <span class="nx">$</span><span class="p">(</span><span class="s2">&quot;#routereplay table.route tbody:last-child tr:not(:nth-child(1)) td:nth-child(1)&quot;</span><span class="p">).</span><span class="nx">empty</span><span class="p">();</span>   <span class="c1"># remove personicon from every row except first row </span>
        <span class="nv">seperator = </span><span class="nx">$</span><span class="p">(</span> <span class="s2">&quot;#factory tbody.routereplay tr.seperator&quot;</span> <span class="p">).</span><span class="nx">clone</span><span class="p">()</span>
        <span class="nx">seperator</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span><span class="s2">&quot;.cost&quot;</span><span class="p">).</span><span class="nx">html</span><span class="p">(</span><span class="nx">traveldistance</span><span class="p">)</span>
        <span class="nx">$</span><span class="p">(</span><span class="s2">&quot;#routereplay table.route tbody:last-child&quot;</span><span class="p">).</span><span class="nx">append</span><span class="p">(</span><span class="nx">seperator</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s1">&#39;data-stat&#39;</span><span class="p">,</span> <span class="nx">translateToJson</span><span class="p">(</span><span class="nx">jsonroute</span><span class="p">))</span>
            <span class="p">.</span><span class="kc">on</span> <span class="s1">&#39;hover&#39;</span><span class="p">,</span> <span class="o">-&gt;</span>
                <span class="nx">highlightMovement</span><span class="p">(</span><span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">attr</span><span class="p">(</span><span class="s1">&#39;data-stat&#39;</span><span class="p">),</span> <span class="mi">1</span><span class="p">)</span>
            <span class="p">.</span><span class="kc">on</span> <span class="s1">&#39;mouseleave&#39;</span><span class="p">,</span> <span class="o">-&gt;</span>
                <span class="nx">unhighlightAllEdges</span><span class="p">()</span>

        <span class="k">if</span><span class="p">(</span><span class="nx">to</span><span class="o">!=</span><span class="mi">0</span><span class="p">)</span>
            <span class="nv">itemstobuyhere = </span><span class="nx">solution</span><span class="p">.</span><span class="nx">best_route</span><span class="p">[</span><span class="nx">s</span><span class="p">].</span><span class="nx">slice</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
            <span class="nv">itemprices = </span><span class="mi">0</span>
            <span class="nx">$</span><span class="p">(</span><span class="s1">&#39;&lt;tbody class=&quot;payment&quot;&gt;&#39;</span><span class="p">).</span><span class="nx">insertAfter</span><span class="p">(</span><span class="s2">&quot;#routereplay table.route tbody:last-child&quot;</span><span class="p">)</span>
            <span class="k">for</span> <span class="nx">i</span> <span class="k">in</span> <span class="nx">itemstobuyhere</span>
                <span class="nv">itemprice = </span><span class="nx">roundCurrency</span><span class="p">(</span><span class="nx">data</span><span class="p">.</span><span class="nx">prices</span><span class="p">[</span><span class="nx">i</span><span class="p">][</span><span class="nx">to</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">*</span><span class="nx">data</span><span class="p">.</span><span class="nx">quantities</span><span class="p">[</span><span class="nx">i</span><span class="p">])</span>
                <span class="nx">itemprices</span> <span class="o">+=</span> <span class="nx">itemprice</span>

                <span class="nv">itemrow = </span><span class="nx">$</span><span class="p">(</span> <span class="s2">&quot;#factory tbody.routereplay tr.buysomething&quot;</span> <span class="p">).</span><span class="nx">clone</span><span class="p">()</span>
                <span class="nx">itemrow</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span><span class="s2">&quot;.description&quot;</span><span class="p">).</span><span class="nx">html</span><span class="p">(</span><span class="s2">&quot;Kaufe &quot;</span><span class="o">+</span><span class="nx">data</span><span class="p">.</span><span class="nx">quantities</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span><span class="o">+</span><span class="s2">&quot;x &lt;strong&gt;&quot;</span><span class="o">+</span><span class="nx">data</span><span class="p">.</span><span class="nx">articles</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span><span class="o">+</span><span class="s2">&quot;&lt;/strong&gt;&quot;</span><span class="p">)</span>
                <span class="nx">itemrow</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span><span class="s2">&quot;.cost&quot;</span><span class="p">).</span><span class="nx">html</span><span class="p">(</span><span class="nx">itemprice</span><span class="p">)</span>
                <span class="nx">$</span><span class="p">(</span><span class="s2">&quot;#routereplay table.route tbody:last-child&quot;</span><span class="p">).</span><span class="nx">append</span><span class="p">(</span><span class="nx">itemrow</span><span class="p">)</span>

            <span class="nv">itemprices = </span><span class="nx">roundCurrency</span><span class="p">(</span><span class="nx">itemprices</span><span class="p">)</span>
            <span class="nv">seperator = </span><span class="nx">$</span><span class="p">(</span> <span class="s2">&quot;#factory tbody.routereplay tr.seperator&quot;</span> <span class="p">).</span><span class="nx">clone</span><span class="p">()</span>
            <span class="nx">seperator</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span><span class="s2">&quot;.cost&quot;</span><span class="p">).</span><span class="nx">html</span><span class="p">(</span><span class="nx">itemprices</span><span class="p">)</span>
            <span class="nx">$</span><span class="p">(</span><span class="s2">&quot;#routereplay table.route tbody:last-child&quot;</span><span class="p">).</span><span class="nx">append</span><span class="p">(</span><span class="nx">seperator</span><span class="p">)</span></pre></div>             </td>           </tr>                               <tr id="section-7">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-7">&#182;</a>               </div>               <p>summary</p>             </td>             <td class="code">               <div class="highlight"><pre>    <span class="nv">summaryhtml = </span><span class="nx">$</span><span class="p">(</span> <span class="s2">&quot;#factory tbody.summary&quot;</span> <span class="p">).</span><span class="nx">clone</span><span class="p">()</span>
    <span class="nx">summaryhtml</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span><span class="s2">&quot;.cost.travelcosts&quot;</span><span class="p">).</span><span class="nx">html</span><span class="p">(</span><span class="nx">roundCurrency</span><span class="p">(</span><span class="nx">solution</span><span class="p">.</span><span class="nx">travel_cost</span><span class="p">))</span>
    <span class="nx">summaryhtml</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span><span class="s2">&quot;.cost.purchasecosts&quot;</span><span class="p">).</span><span class="nx">html</span><span class="p">(</span><span class="nx">roundCurrency</span><span class="p">(</span><span class="nx">solution</span><span class="p">.</span><span class="nx">article_cost</span><span class="p">))</span>
    <span class="nx">summaryhtml</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span><span class="s2">&quot;.cost.summary&quot;</span><span class="p">).</span><span class="nx">html</span><span class="p">(</span><span class="nx">roundCurrency</span><span class="p">(</span><span class="nx">solution</span><span class="p">.</span><span class="nx">min_cost</span><span class="p">))</span>
    <span class="nx">summaryhtml</span><span class="p">.</span><span class="nx">insertAfter</span><span class="p">(</span><span class="s2">&quot;#routereplay table.route tbody:last-child&quot;</span><span class="p">)</span>
    
    <span class="nx">$</span><span class="p">(</span><span class="s2">&quot;#routereplay.nano&quot;</span><span class="p">).</span><span class="nx">nanoScroller</span><span class="p">()</span>

</pre></div>             </td>           </tr>                </tbody>     </table>   </div> </body> </html> 